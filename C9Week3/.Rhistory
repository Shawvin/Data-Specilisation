rm(list=ls())
knitr::opts_chunk$set(echo = TRUE)
print(GTM,"chart")
suppressPackageStartupMessages(library(googleVis))
M<-gvisMotionChart(Fruits,"Fruit","Year",
options=list(width=600,height=400))
G2<-gvisGeoChart(Exports,locationvar = "Country",
colorvar = "Profit",options=list(width=600,height=400))
print(G2,"chart")
G<-gvisGeoChart(Exports,"Country","Profit",
options=list(width=200,height=100))
T1<-gvisTable(Exports,options=list(width=200,height=270))
M<-gvisMotionChart(Fruits,"Fruit","Year",
options = list(width=400,hiehgt=370))
GT<-gvisMerge(G,T1,horizontal = FALSE)
GTM<-gvisMerge(GT,M,horizontal = TRUE,tableOptions ="bgcolor=\"#CCCCCC\"cellspacing=10")
print(GTM,"chart")
plot(GTM,"chart")
plot(GTM)
plot(G2)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/Data-Specilisation/C9Week1/pickTrees.R')
pickTrees()
runApp('Data-Specilisation/C9Week1/Infarct')
library(tidyr)
head(stock)
head(stocks)
library(dplyr)
head(stocks)
data(stocks)
?sotcks
?stocks
head(iris)
library(plotly)
plot_ly(mtcars,x=mpg,y=hwy)
?plot_ly
head(mtcars)
plot_ly(mtcars,x=mpg,y=disp)
plot_ly(data=mtcars,x=mpg,y=disp)
plot_ly(data=mtcars,x=mpg,y=hp)
plot_ly(data=mtcars,x=~mpg,y=~hp)
plot_ly(data=mtcars,x=~mpg,y=~hp,marker=circle)
plot_ly(data=mtcars,x=~mpg,y=~hp,marker="circle")
plot_ly(data=mtcars,x=mpg,y=hp,mode="marker")
plot_ly(data=mtcars,x=~mpg,y=~hp,mode="marker")
plot_ly(data=mtcars,x=~mpg,y=~hp,mode="markers")
plot_ly(data=mtcars,x=~mpg,y=~hp,color=~cyl,mode="markers")
plot_ly(data=mtcars,x=~mpg,y=~hp,color=~factor(cyl),mode="markers")
?plot_ly
plot_ly(data=mtcars,x=~mpg,y=~hp,color=~factor(cyl),mode="circle")
plot_ly(data=mtcars,x=~mpg,y=~hp,color=~factor(cyl),mode="circles")
plot_ly(data=mtcars,x=~mpg,y=~hp,color=~factor(cyl),mode="circlemarkers")
dir()
setwd("Data-Specilisation/C9Week3/")
dir()
world<-read.csv("worldcities.csv")
head(world)
china<-world[world$country==China,]
china<-world[world$country==china,]
china<-world[world$country=="China",]
head(china)
dim(china)
knitr::opts_chunk$set(echo = FALSE)
suppressPackageStartupMessages("plotly")
world<-read.csv("worldcities.csv")
china<-world[world$country=="China",]
CH_cities<-china[,c(1,3,5,8,10)]
head(CH_cities)
rownames(CH_cities)<-1:nrow(CH_cities)
head(CH_cities)
head(CH_cities[order(CH_cities$population),])
?order
head(CH_cities[order(CH_cities$population,decreasing = T),])
map_options<-list(
scope='china',
projection=list(type='albers usa')
)
plot_ly(CH_cities,z=~population,text=~hover,location=~c(lat,lng),
type='choropleth',locationmode='China_cities',
color=~population) %>% layout(geo=map_options)
world<-read.csv("worldcities.csv")
china<-world[world$country=="China",]
CH_cities<-china[,c(1,3,5,8,10)]
rownames(CH_cities)<-1:nrow(CH_cities)
head(CH_cities[order(CH_cities$population,decreasing = T),])
CH_cities$hover<-with(CH_cities,paste(city,"<br>","population",population))
map_options<-list(
scope='china',
projection=list(type='albers usa')
)
plot_ly(CH_cities,z=~population,text=~hover,location=~c(lat,lng),
type='choropleth',locationmode='China_cities',
color=~population) %>% layout(geo=map_options)
world<-read.csv("worldcities.csv")
china<-world[world$country=="China",]
CH_cities<-china[,c(1,3,4,5,8,10)]
rownames(CH_cities)<-1:nrow(CH_cities)
head(CH_cities[order(CH_cities$population,decreasing = T),])
CH_cities$hover<-with(CH_cities,paste(city,"<br>","population",population))
map_options<-list(
scope='china',
projection=list(type='albers usa')
)
plot_ly(CH_cities,z=~population,text=~hover,location=~c(lat,lng),
type='choropleth',locationmode='China_cities',
color=~population) %>% layout(geo=map_options)
map_options<-list(
scope='china',
projection=list(type='albers china')
)
plot_ly(CH_cities,z=~population,text=~hover,location=~c(lat,lng),
type='choropleth',locationmode='China_cities',
color=~population) %>% layout(geo=map_options)
?map_options
?plot_ly
knitr::opts_chunk$set(echo = FALSE)
suppressPackageStartupMessages("plotly")
suppressPackageStartupMessages("ggplot2")
g<-ggplot(CH_cities,aes(city,population))+geom_bar()+coord_flip()
g
g<-ggplot(CH_cities,aes(city,population))+geom_bar(stat="identity")+coord_flip()
g
g<-ggplot(CH_cities,aes(reordered(city,population),population))+geom_bar(stat="identity")+coord_flip()
g
g<-ggplot(CH_cities,aes(reorder(city,population),population))+geom_bar(stat="identity")+coord_flip()
g
g<-ggplot(CH_cities,aes(reorder(city,population),population,group=10))+geom_bar(stat="identity")+coord_flip()
g
?geom_bar
sort(CH_cities$population)
sort(CH_cities$population,decreasing = T)
order(CH_cities$population)
head(CH_cities)
tail(CH_cities)
o<-order(CH_cities$population,decreasing = T)[1:10]
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o],aes(reorder(city,population),population),color=admin_name)+geom_bar(stat="identity")+coord_flip()
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population),color=admin_name)+geom_bar(stat="identity")+coord_flip()
g
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population),fill=admin_name)+geom_bar(stat="identity")+coord_flip()
g
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population,fill=admin_name))+geom_bar(stat="identity")+coord_flip()
o<-order(CH_cities$population,decreasing = T)[1:10]
g
?ggtitle
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population,fill=admin_name))+geom_bar(stat="identity")+coord_flip()+labs(x="City",title = "Most populated cities in China")
g
?legend
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population,fill=admin_name))+geom_bar(stat="identity")+coord_flip()+labs(x="City",title = "Most populated cities in China")+legend(legend="Province")
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population,fill=admin_name))+geom_bar(stat="identity")+coord_flip()+labs(x="City",title = "Most populated cities in China",fill="Province")
g
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population,fill=admin_name))+geom_bar(stat="identity")+coord_flip()+labs(x="City",title = "Most populated cities in China",fill="Province")
gg<-ggplotly(g)
gg
knitr::opts_chunk$set(echo = FALSE)
suppressPackageStartupMessages("plotly")
suppressPackageStartupMessages("ggplot2")
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population,fill=admin_name))+geom_bar(stat="identity")+coord_flip()+labs(x="City",title = "Most populated cities in China",fill="Province")
gg<-ggplotly(g)
gg
knitr::opts_chunk$set(echo = FALSE)
library(ggplot2)
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population,fill=admin_name))+geom_bar(stat="identity")+coord_flip()+labs(x="City",title = "Most populated cities in China",fill="Province")
gg<-ggplotly(g)
gg
library(plotly)
library(ggplot2)
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population,fill=admin_name))+geom_bar(stat="identity")+coord_flip()+labs(x="City",title = "Most populated cities in China",fill="Province")
gg<-ggplotly(g)
gg
suppressPackageStartupMessages(library(plotly))
suppressPackageStartupMessages(library(ggplot2))
o<-order(CH_cities$population,decreasing = T)[1:10]
g<-ggplot(CH_cities[o,],aes(reorder(city,population),population,fill=admin_name))+geom_bar(stat="identity")+coord_flip()+labs(x="City",title = "Most populated cities in China",fill="Province")
gg<-ggplotly(g)
gg
?head
world<-read.csv("worldcities.csv")
china<-world[world$country=="China",]
CH_cities<-china[,c(1,3,4,5,8,10)]
rownames(CH_cities)<-1:nrow(CH_cities)
head(CH_cities[order(CH_cities$population,decreasing = T),],10,addrownum=FALSE)
CH_cities$hover<-with(CH_cities,paste(city,"<br>","population",population))
world<-read.csv("worldcities.csv")
china<-world[world$country=="China",]
CH_cities<-china[,c(1,3,4,5,8,10)]
rownames(CH_cities)<-1:nrow(CH_cities)
head(CH_cities[order(CH_cities$population,decreasing = T),],n=10,addrownum=FALSE)
CH_cities$hover<-with(CH_cities,paste(city,"<br>","population",population))
world<-read.csv("worldcities.csv")
china<-world[world$country=="China",]
CH_cities<-china[,c(1,3,4,5,8,10)]
rownames(CH_cities)<-1:nrow(CH_cities)
head(CH_cities[order(CH_cities$population,decreasing = T),],n=10,row.names=FALSE)
CH_cities$hover<-with(CH_cities,paste(city,"<br>","population",population))
?print
world<-read.csv("worldcities.csv")
china<-world[world$country=="China",]
CH_cities<-china[,c(1,3,4,5,8,10)]
rownames(CH_cities)<-1:nrow(CH_cities)
print(CH_cities[order(CH_cities$population,decreasing = T),],n=10,row.names=FALSE)
CH_cities$hover<-with(CH_cities,paste(city,"<br>","population",population))
world<-read.csv("worldcities.csv")
china<-world[world$country=="China",]
CH_cities<-china[,c(1,3,4,5,8,10)]
rownames(CH_cities)<-1:nrow(CH_cities)
head(CH_cities[order(CH_cities$population,decreasing = T),],n=10,row.names=FALSE)
CH_cities$hover<-with(CH_cities,paste(city,"<br>","population",population))
