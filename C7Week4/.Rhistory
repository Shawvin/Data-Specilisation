source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
head(rankall("heart attack", 20), 10)
head(rankall("heart attack", 20), 10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
head(rankall("heart attack", 20), 10)
rankall("heart attack", 20)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack", 20)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",10)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",20)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",20)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
rankall("heart attack",20)
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankall.R')
r <- rankall("heart attack", 4)
as.character(subset(r, state == "HI")$hospital)
r <- rankall("pneumonia", "worst")
as.character(subset(r, state == "NJ")$hospital)
r <- rankall("heart failure", 10)
as.character(subset(r, state == "NV")$hospital)
best("SC","heart attack")
best("NY","pneumonia")
best("AK","pneumonia")
rankhospital("NC","heart attack","worst")
source('C:/Users/Wang Xiaoyuan/Desktop/Coursera/rankhospital.R')
rankhospital("NC","heart attack","worst")
rankhospital("WA","heart attack",7)
rankhospital("TX","pneumonia",10)
rankhospital("NY","heart attack",7)
r<-rankall("heart attack",4)
as.character(subset(r,state=="HI")$hospital)
r<-rankall("pneumonia","worst")
as.character(subset(r,state=="NJ")$hospital)
r<-rankall("heart failure",10)
as.character(subset(r,state=="NV")$hospital)
getwd()
list.files()
pbinom(7,size=8)
pbinom(7,size=8,prob=0.5)
pbinom(7,size=8,prob=0.5.lower.tail=FALSE)
pbinom(7,size=8,prob=0.5,lower.tail=FALSE)
?pbinom
pbinom(7,8,prob=0.5,lower.tail=FALSE)
qbinom(0.95,8,prob=0.5)
pbinom(6,8,prob=0.5,lower.tail=FALSE)
ppois(10,lambda=5)
ppois(10,lambda=5,lower.tail = FALSE)
dim(cars)
head(cars)
?group_by
library(dplyr)
?group_by
group_by(cars,speed) %>% summarise(mean)
?summarise
group_by(cars,speed) %>% summarise(dist=mean(dist))
newcars<-group_by(cars,speed) %>% summarise(dist=mean(dist))
newse<-group_by(cars,speed) %>% summarise(dist=sd(dist)/sqrt(nrow(dist))
)
newse<-group_by(cars,speed) %>% summarise(se=sd(dist)/sqrt(nrow(dist)))
newse<-group_by(cars,speed) %>% summarise(se=sd(dist))
newse
newse<-group_by(cars,speed) %>% summarise(se=sd(dist),na.rm=TRUE)
newse
ggplot(newcars,aes(speed,dist,col=speed))+geom_line()
library(ggplot2)
ggplot(newcars,aes(speed,dist,col=speed))+geom_line()
ggplot(newcars,aes(factor(speed),dist,col=speed))+geom_line()
newcars$speed<-factor(newcars$speed)
ggplot(newcars,aes(speed,dist,col=speed))+geom_line()
newcars
ggplot(newcars,aes(speed,dist,col=speed))+geom_line()
ggplot(newcars,aes(speed,dist,col=speed))+geom_point()
ggplot(newcars,aes(speed,dist)+geom_line()
)
ggplot(newcars,aes(speed,dist))+geom_line()
ggplot(newcars,aes(speed,dist,col=speed))+geom_point()
ggplot(newcars,aes(speed,dist))+geom_point()
dim(father.son)
library(UsingR)
dim(father.son)
head(father.son)
x<-father.son$sheight
N<-10000
n<-length(x)
resamples<-matrix(sample(x,n*N,replace=TRUE),N,n)
hist(resamples)
resampleMeadian<-apply(resamples,1,median)
dim(resampleMedian)
dim(resampleMeadian)
dim(resamples)
hist(resampleMeadian)
length(resampleMeadian)
dim(cars)
head(cars)
ggplot(cars,aes(speed,dist))+geom_bar()
ggplot(cars,aes(speed,dist))+geom_bar(dist)
ggplot(cars,aes(speed,dist))+geom_boxplot()
ggplot(cars,aes(speed,dist))+geom_point()
cars$speed<-factor(cars$speed)
ggplot(cars,aes(speed,dist))+geom_boxplot()
ggplot(cars,aes(speed,dist),color=speed)+geom_boxplot()
ggplot(cars,aes(speed,dist,color=speed)+geom_boxplot()
)
ggplot(cars,aes(speed,dist,color=speed))+geom_boxplot()
ggplot(cars,aes(speed,dist))+geom_boxplot(color=speed)
ggplot(cars,aes(speed,dist))+geom_boxplot(color=cars$speed)
ggplot(cars,aes(speed,dist,color=speed))+geom_boxplot()
qt(0.95,8)
qt(0.975,8)
1000+c(1,-1)*qt(0.975,8)*10
1100+c(1,-1)*qt(0.975,8)*10
-2+qt(0.975,8)*sd/3>0
6/2.306004
sd=sqrt((0.6*9+0.68*9)/18)
sd
qt(0.975,180)
qt(0.975,18)
qt(0.975,18)*0.8
-2+c(-1,1)*qt(0.975,18)*0.8
-2+c(-1,1)*qt(0.975,18)*0.8/3
swirl
swirl()
library(swirl)
swirl()
0.001*0.997
0.999*0.015
0.001*0.997/(0.001*0.997+0.999*0.015)
svd
svd(scale(mat))
exit()
exit
q()
rm(ls())
rm(list=ls())
library(ggplot2)
is<-InsectSprays
g<-ggplot(is,aes(x=spray,y=count,fill=spray))
g+geom_violin()+xlab("Spray")+ylab("Insect count")
g+geom_violin(color="black",size=2)+xlab("Spray")+ylab("Insect count")
summary(lm(count~spray,data=is))
summary(lm(count~spray-1,data=is))
fit<-lm(count~spray-1,data=is)
fit$coefficients
fit$residuals
fit$resid
fit$squaredR
fit$R-squared
fit$R.squared
fit$squared.R
summary(lm(count~spray-1,data=is))
fit<-summary(lm(count~spray-1,data=is))
class(fit)
str(fit)
fit$r.squared
fit$p
tapply(is$count,is$spray,mean)
fit
tapply(is$count,is$spray,sd)
tapply(is$count,is$spray,length)
tapply(is$count,is$spray,sd/sqrt(10))
tapply(is$count,is$spray,sd()/sqrt(10))
tapply(is$count,is$spray,sd)/sqrt(10)
(sumtapply(is$count,is$spray,sd)^2)/sqrt(66)
sum(tapply(is$count,is$spray,sd)^2)/sqrt(66)
sum(tapply(is$count,is$spray,sd)^2)/66
sum(tapply(is$count,is$spray,sd)^2)
sum(tapply(is$count,is$spray,sd)^2)/66
sqrt(sum(tapply(is$count,is$spray,sd)^2)/66)
sqrt(sum(tapply(is$count,is$spray,sd)^2)/71)
sqrt(sum(tapply(is$count,is$spray,sd)^2)/72)
fit$coefficients[,2]
spray2<_relevel(is$spray,"C")
spray2<-relevel(is$spray,"C")
fit2<-lm(count~spray2,data=is)
fit2
head(is)
is$spray
is$spray2
head(mtcars)
lm(mpg~factor(cyl)+wt,data=mtcars)
summary(lm(mpg~factor(cyl)+wt,data=mtcars))
summary(lm(mpg~factor(cyl),data=mtcars))
summary(lm(mpg~factor(cyl)+wt,data=mtcars))
summary(lm(mpg~factor(cyl)+wt+wt*factor(cyl),data=mtcars))
summary(lm(mpg~wt*factor(cyl),data=mtcars))
summary(lm(mpg~factor(cyl)*wt,data=mtcars))
fit
plot(fit)
plot(summary(fit)
)
fit<-lm(count~spray,data=is)
plot(fit)
par(mfrow=c(2,2))
plot(fit)
?influence.measures
x <- c(0.586, 0.166, -0.042, -0.614, 11.72)
y <- c(0.549, -0.026, -0.127, -0.751, 1.344)
plot(x,y)
par()
par(mfrow=c(1,1))
plot(x,y)
abline(lm(y~x))
fit<-lm(y~x)
hatvalues(fit)
dfbetas(fit)
plot(fit)
summary(lm(mpg~factor(cyl),data=mtcars))
summary(lm(mpg~factor(cyl)+wt,data=mtcars))
summary(lm(mpg~factor(cyl)*wt,data=mtcars))
coef(lm(y~x))
coef(lm(y~x))[2]
coef(lm(Fertility~Agriculture+Education,data=swiss))
coef(lm(Fertility~Agriculture+Education,data=swiss))[2]
a<-sapply(1:10,c(1,2,3))
a<-sapply(1:10,function(i) c(1,2,3))
a
mt<-mtcars
head(mtcars)
fit<-lm(mpg~factor(cyl)+wt,data=mt)
fit1<-update(mpg~factor(cyl)+wt,data=mt)
fit1<-update(fit,mpg~factor(cyl)+wt+factor(cyl)*wt,data=mt)
anova(fit,fit1)
fit
summary(fit)
fit2<-lm(mpg~factor(cyl),data=mt)
summary(fit2)
fit2<-lm(mpg~factor(cyl)-1,data=mt)
fit<-lm(mpg~factor(cyl)+wt-1,data=mt)
summary(fit2)
summary(fit)
?mtcars
swirl()
library(swirl)
swirl()
ones<-rep(1,nrow(galton))
lm(child~ones+parent-1,galton)
lm(child~parent,galton)
lm(child~1,galton)
view(trees)
head(trees)
fit<-lm(Volume~Girth+Height+Constant-1,trees)
tree2<-eliminate("Girth",trees)
trees2<-eliminate("Girth",trees)
view(trees2)
haed(trees2)
head(trees2)
fir2<-lm(Volume~Height+Constant-1,trees2)
fit2<-lm(Volume~Height+Constant-1,trees2)
lapply(list(fit,fit2),coef)
lm(Fertility~.,data=swiss)
all<-lm(Fertility~.,data=swiss)
summary(all)
summary(lm(Fertility~Agriculture,siwss))
summary(lm(Fertility~Agriculture,swiss))
cor(Examination,Education, data=swiss)
cor(Examination,Education)
cor(swiss$Examination,swiss$Education)
cor(swiss$Agriculture,swiss$Education)
makelm()
makelms()
ec<-swiss$Examination+swiss$Catholic
lm(Fertility~.+ec,swiss)
efit<-lm(Fertility~.+ec,swiss)
all-efit
all$coefficients-efit$coefficients
6
dim(InsectSprays)
head(InsectSprays,15)
A
sA
summary(InsectSprays[,2])
sapply(InsectSprays,class)
fit<-lm(count~spray,InsectSprays)
summary(fit)
summary(fit)$coef
est<-summary(fit)$coef[,1]
mean(sA)
mean(sB)
nfit<-lm(count~spray-1,InsectSprays)
nfit$coef
summary(nfit)$coef
spray2<-relevel(InsectSprays$spray,"C")
fit2<-lm(count~spray2,InsectSprays)
summary(fit2)$coef
mean(sC)
(fit$coef[3]-fit$coef[2])/1.6011
(fit$coef[2]-fit$coef[3])/1.6011
dim(hunger)
948
names(hunger)
fit<-lm(Numeric~Year,hunger)
summary(fit)$coef
lmF<-lm(Numeric~Year,x[hunger$sex=="Female"])
lmF<-lm(Numeric~Year,hunger[hunger$sex=="Female"])
lmF<-lm(Numeric~Year,hunger[hunger$sex=="Female",])
lmF<-lm(Numeric~Year,data=hunger[hunger$sex=="Female",])
lmF<-lm(Numeric~Year,data=hunger[which(hunger$sex=="Female"),])
hunger2<-hunger[hunger$sex=="Female"]
play()
dim(hunger2)
hunger2<-hunger[hunger$sex=="Female",]
dim(hunger2)
dim(hunger)
table(hunger$Sex)
hunger2<-hunger[hunger$sex=="Female"]
dim(hunger2)
table(hunger$sex=="Female")
names(hunger)
table(hunger$Sex=="Female")
hunger2<-hunger[hunger$Sex=="Female"]
hunger2<-hunger[hunger$Sex=="Female",]
dim(hunger2)
lmF<-lm(numeric~Year,hunger2)
lmF<-lm(Numeric~Year,hunger2)
summary(lmF)
return()
return
nxt()
lmF<-lm(Numeric~Year,hunger[hunger$Sex=="Female",])
play()
lmF<-lm(Numeric~Year,hunger[hunger$Sex=="Female",])
lmF2<-lm(Numeric~Year,hunger[hunger$Sex=="Female",])
nxt()
lmF<-lm(Numeric[Sex=="Female"~Year[Sex=="Female"]]
)
lmF<-lm(Numeric[Sex=="Female"]~Year[Sex=="Female"])
lmF<-lm(Numeric[hunger$Sex=="Female"]~Year[hunger$Sex=="Female"])
lmF<-lm(Numeric[hunger$Sex=="Female"]~Year[hunger$Sex=="Female"],hunger)
lmM<-lm(Numeric[hunger$Sex=="Male"]~Year[hunger$Sex=="Male"],hunger)
lmBoth<-lm(Numeric~Year+Sex,hunger)
summary(lmBoth)
lmInter<-lm(Numeric~Year+Sex+Sex*Year,hunger)
summary(lmInter)
rm(list=ls())
install.packages("devtool")
install.packages("devtools")
devtools::install_github("jhudsl/collegeIncome")
library(collegeIncome)
data(college)
devtools::install_github("jhudsl/matahari")
dance_start(value = FALSE, contents = FALSE)
library(matahari)
devtools::install_github("jhudsl/matahari")
library(matahari)
dance_start(value = FALSE, contents = FALSE)
devtools::install_github("jhudsl/matahari")
library(matahari)
devtools::install_github("jhudsl/matahari")
?glm
exp(10,lambda=0.2)
rexp(10,lambda=0.2)
rexp(10)
?rexp
rexp(10,0.2)
mean(rexp(1000,0.2))
mean(rexp(1000))
dpois(1:10,2)
plot(1:10,dpois(1:10,2))
plot(1:10,dpois(1:10,2),type=h)
plot(1:10,dpois(1:10,2),type="h")
plot(1:20,dpois(1:20,4),type="h")
plot(1:20,dpois(1:20,4),type="h",frame=FALSE)
plot(1:20,dpois(1:20,4),type="h",frame=FALSE)
plot(1:20,dpois(1:20,10),type="h",frame=FALSE)
?dpois
plot(1:100,dpois(1:100,3),type="h")
?quadrature
g(E[Y | X_k = x_k + 1, X_{\sim k} = x_{\sim k}]) - g(E[Y | X_k = x_k, X_{\sim k}=x_{\sim k}]) = \beta_k
getwd()
setwd(./C7Week4)
setwd("./C7Week4")
getwd()
dir()
mv<-read.csv("movies.txt")
head(mv\)
head(mv)
mv<-read.RDS("movies.txt")
mv<-readRDS("movies.txt")
dir()
gD<-read.rda("gaData.rda")
load("gaData.rda")
head(gaData)
dim(gaData)
?julian
jl<-julian(gaData$date)
gD<-glm(gaData$visits~jl,family="poission")
gD<-glm(gaData$visits~jl,family="poisson")
summary(gD)
abline(gD)
plot(jl,gaData$visits)
abline(gD)
plot(jl,gaData$visits,pch=19,color="dark grey")
plot(jl,gaData$visits,pch=19,color="grey")
plot(jl,gaData$visits,pch=19,color="darkgrey")
plot(jl,gaData$visits,pch=19,color="darkgrey")
abline(gD,color="red",lwd=2)
plot(jl,gaData$visits,pch=19,col="darkgrey")
abline(gD,col="red",lwd=2)
confint(gD)
n<-1:10
m<-cbind(1,n)
m
dim(m)
a<-seq(1:3,length=5)
a<-seq(1,3,length=5)
a
?shuttle
head(shuttle)
load(shuttle)
library(MASS)
head(shuttle)
dim(shuttle)
use<-glm(shuttle$use~shuttle$wind,family="binary")
use<-glm(shuttle$use~shuttle$wind,family="binomial")
summary(use)
use$coefficients[2]
exp(use$coefficients[2])
use<-glm(shuttle$use~shuttle$wind+shuttle$magn,family="binomial")
summary(use)
exp(use$coefficients[2])
use<-glm(shuttle$use~shuttle$wind,family="binomial")
anova(use,test="chisq")
anova(use,test="Chisq")
sample(1:45,7,replace=FALSE)
mns<-null
mns<-Null(
)
mns<-Null
for i in 1:1000 mns<-c(mns,mean(sample(1:45,7,replace = F)))
for (i in 1:1000) mns<-c(mns,mean(sample(1:45,7,replace = F)))
length(mns)
mns<-NULL
for (i in 1:1000) mns<-c(mns,mean(sample(1:45,7,replace = F)))
length(mns)
sd(mns)
sd(1:45)/sqrt(7)
sd(1:45)
for (i in 1:1000) mns<-c(mns,mean(sample(1:45,7,replace = T)))
sd(mns)
sd(1:45)/sqrt(7)
x <- -5:5
y <- c(5.12, 3.93, 2.67, 1.87, 0.52, 0.08, 0.93, 2.05, 2.54, 3.87, 4.97)
knot<-seq(x,length=3)
knot<-seq(-5,5,length=3)
knot
plot(x,y)
spineTerm<-sapply(knot,function(knot) (x-knot)^2*(x>knot))
xMat<-cbind(1,x,x^2,spineTerm)
yhat<-predict(lm(y~xMat-1))
plot(x,y)
line(x,yhat,col="red")
line(x,yhat)
yhat
line(x,yhat)
plot(x,y)
line(x,yhat)
lines(x,yhat)
spineTerm<-sapply(knot,function(knot) (x-knot)*(x>knot))
xMat<-cbind(1,x,spineTerm)
yhat<-predict(lm(y~xMat-1))
plot(x,y)
lines(x,yhat)
line(x,yhat)
summary(lm(y~xMat-1))
is<-InsectSprays
fit<-glm(is$count~factor(is$spray),family="poisson")
summary(fit0)
summary(fit)
fit$coefficients[2]
exp(-fit$coefficients[2])
x
z<-(x>0)*x
lm(y~x)
lm(y~x+z)
head(mtcars)
?mtcars
str(mtcars)
lm(mpg~factor(am)+wt+factor(cyl),data=mtcars)
fit<-lm(mpg~factor(am)+wt+factor(cyl),data=mtcars)
summary(fit)
fit<-lm(mpg~factor(am)+wt+factor(cyl)-1,data=mtcars)
summary(fit)
fit1<-lm(mpg~factor(am)-1,data=mtcars)
summary(fit1)
